<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Brut::FrontEnd::Handler
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Brut::FrontEnd::Handler";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (H)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Brut.html" title="Brut (module)">Brut</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../FrontEnd.html" title="Brut::FrontEnd (module)">FrontEnd</a></span></span>
     &raquo; 
    <span class="title">Handler</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Brut::FrontEnd::Handler
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Brut::FrontEnd::Handler</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="../Framework/Errors.html" title="Brut::Framework::Errors (module)">Brut::Framework::Errors</a></span>, <span class='object_link'><a href="HandlingResults.html" title="Brut::FrontEnd::HandlingResults (module)">HandlingResults</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/brut/front_end/handler.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>A handler responds to all HTTP requests other than those that render a page.
Like a page, the handler is initialized with any of the data it needs.  The <span class='object_link'><a href="#handle-instance_method" title="Brut::FrontEnd::Handler#handle (method)">#handle</a></span> method will
be called to perform whatever action is needed, and its return value will determine what
ther esponse will be.</p>

<p>To create a handler, after defining a route or form,
subclass this class (or, more likely, your app's <code>AppHandler</code>) and
provide an initializer that accepts keyword arguments.  The names of these arguments will be used
to locate the values that Brut will pass in when creating your page object. If your handler
is for a form, be sure to include the <code>form:</code> keyword argument.</p>

<p>Consult Brut's documentation on keyword injection to know what values you may use and how values are located.</p>

<p>Then, implement <span class='object_link'><a href="#handle-instance_method" title="Brut::FrontEnd::Handler#handle (method)">#handle</a></span> to perform whatever logic is needed to handle the request.</p>

<p>You may also define <code>before_handle</code> which will be called before <span class='object_link'><a href="#handle-instance_method" title="Brut::FrontEnd::Handler#handle (method)">#handle</a></span> to potentially abort
the request.  This is mostly useful if you have a base class for some of your handlers and want to
share cross-cutting logic.</p>

<p>Note that the public API for handlers is <span class='object_link'><a href="#handle!-instance_method" title="Brut::FrontEnd::Handler#handle! (method)">#handle!</a></span>, which is what you should call in a test.</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Handlers/CspReportingHandler.html" title="Brut::FrontEnd::Handlers::CspReportingHandler (class)">Brut::FrontEnd::Handlers::CspReportingHandler</a></span>, <span class='object_link'><a href="Handlers/InstrumentationHandler.html" title="Brut::FrontEnd::Handlers::InstrumentationHandler (class)">Brut::FrontEnd::Handlers::InstrumentationHandler</a></span>, <span class='object_link'><a href="Handlers/LocaleDetectionHandler.html" title="Brut::FrontEnd::Handlers::LocaleDetectionHandler (class)">Brut::FrontEnd::Handlers::LocaleDetectionHandler</a></span>, <span class='object_link'><a href="Handlers/MissingHandler.html" title="Brut::FrontEnd::Handlers::MissingHandler (class)">Brut::FrontEnd::Handlers::MissingHandler</a></span></p>
</div>







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before_handle-instance_method" title="#before_handle (instance method)">#<strong>before_handle</strong>  &#x21d2; URI|Brut::FrontEnd::Component, ... </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Override this to performa any checks before <span class='object_link'><a href="#handle-instance_method" title="Brut::FrontEnd::Handler#handle (method)">#handle</a></span> is called.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#handle-instance_method" title="#handle (instance method)">#<strong>handle</strong>  &#x21d2; URI|Brut::FrontEnd::Component, ... </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>You must implement this to accept whatever parameters you need.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#handle!-instance_method" title="#handle! (instance method)">#<strong>handle!</strong>(**args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Called by Brut to handle the request.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Framework/Errors.html" title="Brut::Framework::Errors (module)">Brut::Framework::Errors</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Framework/Errors.html#abstract_method!-instance_method" title="Brut::Framework::Errors#abstract_method! (method)">#abstract_method!</a></span>, <span class='object_link'><a href="../Framework/Errors.html#bug!-instance_method" title="Brut::Framework::Errors#bug! (method)">#bug!</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="HandlingResults.html" title="Brut::FrontEnd::HandlingResults (module)">HandlingResults</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="HandlingResults.html#http_status-instance_method" title="Brut::FrontEnd::HandlingResults#http_status (method)">#http_status</a></span>, <span class='object_link'><a href="HandlingResults.html#redirect_to-instance_method" title="Brut::FrontEnd::HandlingResults#redirect_to (method)">#redirect_to</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="before_handle-instance_method">
  
    #<strong>before_handle</strong>  &#x21d2; <tt>URI|<span class='object_link'><a href="Component.html" title="Brut::FrontEnd::Component (class)">Brut::FrontEnd::Component</a></span></tt>, ... 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Override this to performa any checks before <span class='object_link'><a href="#handle-instance_method" title="Brut::FrontEnd::Handler#handle (method)">#handle</a></span> is called.  This should
return <code>nil</code> if <span class='object_link'><a href="#handle-instance_method" title="Brut::FrontEnd::Handler#handle (method)">#handle</a></span> should proceed to be called. Generally, you don't need to override
this as <span class='object_link'><a href="#handle-instance_method" title="Brut::FrontEnd::Handler#handle (method)">#handle</a></span> can include the logic.  Where this is useful is to share cross-cutting logic
across other handlers.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>URI|<span class='object_link'><a href="Component.html" title="Brut::FrontEnd::Component (class)">Brut::FrontEnd::Component</a></span></tt>, <tt>Array</tt>, <tt><span class='object_link'><a href="HttpStatus.html" title="Brut::FrontEnd::HttpStatus (class)">Brut::FrontEnd::HttpStatus</a></span></tt>, <tt><span class='object_link'><a href="Download.html" title="Brut::FrontEnd::Download (class)">Brut::FrontEnd::Download</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>See
<span class='object_link'><a href="#handle-instance_method" title="Brut::FrontEnd::Handler#handle (method)">#handle</a></span> for what each return value means.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/brut/front_end/handler.rb', line 49</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_handle'>before_handle</span> <span class='op'>=</span> <span class='kw'>nil</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handle-instance_method">
  
    #<strong>handle</strong>  &#x21d2; <tt>URI|<span class='object_link'><a href="Component.html" title="Brut::FrontEnd::Component (class)">Brut::FrontEnd::Component</a></span></tt>, ... 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>You must implement this to accept whatever parameters you need. See <span class='object_link'><a href="RequestContext.html" title="Brut::FrontEnd::RequestContext (class)">RequestContext</a></span> for how that works.
The type of the return value determines what will happen:</p>

<ul>
<li>Instance of <code>URI</code> - browser will redirect to this URI. Typically, you would do this by calling <span class='object_link'><a href="HandlingResults.html#redirect_to-instance_method" title="Brut::FrontEnd::HandlingResults#redirect_to (method)">Brut::FrontEnd::HandlingResults#redirect_to</a></span>.</li>
<li>Instance of <span class='object_link'><a href="Component.html" title="Brut::FrontEnd::Component (class)">Component</a></span> (which notably includes <span class='object_link'><a href="Page.html" title="Brut::FrontEnd::Page (class)">Page</a></span>) - renders that component or page</li>
<li>Array of two items, with the first being an Instance of <span class='object_link'><a href="Component.html" title="Brut::FrontEnd::Component (class)">Component</a></span> and the second being an <span class='object_link'><a href="HttpStatus.html" title="Brut::FrontEnd::HttpStatus (class)">Brut::FrontEnd::HttpStatus</a></span> -  renders that component or page, but responds with the given HTTP status. Useful for Ajax requests that don't return 200, but do return useful content.</li>
<li>Instance of <span class='object_link'><a href="HttpStatus.html" title="Brut::FrontEnd::HttpStatus (class)">Brut::FrontEnd::HttpStatus</a></span> - returns just that status code. Typically you would do this by calling <span class='object_link'><a href="HandlingResults.html#http_status-instance_method" title="Brut::FrontEnd::HandlingResults#http_status (method)">Brut::FrontEnd::HandlingResults#http_status</a></span></li>
<li>Instance of <span class='object_link'><a href="Download.html" title="Brut::FrontEnd::Download (class)">Download</a></span> - sends a file download to the browser.</li>
<li>Instance of <span class='object_link'><a href="GenericResponse.html" title="Brut::FrontEnd::GenericResponse (class)">GenericResponse</a></span> - sends itself as the rack response. Use this only if
you cannot use one of the other options</li>
</ul>



  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>URI|<span class='object_link'><a href="Component.html" title="Brut::FrontEnd::Component (class)">Brut::FrontEnd::Component</a></span></tt>, <tt>Array</tt>, <tt><span class='object_link'><a href="HttpStatus.html" title="Brut::FrontEnd::HttpStatus (class)">Brut::FrontEnd::HttpStatus</a></span></tt>, <tt><span class='object_link'><a href="Download.html" title="Brut::FrontEnd::Download (class)">Brut::FrontEnd::Download</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/brut/front_end/handler.rb', line 38</span>

<span class='kw'>def</span> <span class='id identifier rubyid_handle'>handle</span><span class='lparen'>(</span><span class='op'>**</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_abstract_method!'>abstract_method!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handle!-instance_method">
  
    #<strong>handle!</strong>(**args)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Called by Brut to handle the request. Do not override this. If your handler responds to <code>before_handle</code> that is called with the
same args as you have defined for <span class='object_link'><a href="#handle-instance_method" title="Brut::FrontEnd::Handler#handle (method)">#handle</a></span>. If <code>before_handle</code> returns anything other than <code>nil</code>, that value is returned and
should be one of the values documented in <span class='object_link'><a href="#handle-instance_method" title="Brut::FrontEnd::Handler#handle (method)">#handle</a></span>.  If <code>before_handle</code> returns <code>nil</code>, <span class='object_link'><a href="#handle-instance_method" title="Brut::FrontEnd::Handler#handle (method)">#handle</a></span> is called and whatever it
returns is returned here.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57
58
59
60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/brut/front_end/handler.rb', line 55</span>

<span class='kw'>def</span> <span class='id identifier rubyid_handle!'>handle!</span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_before_handle'>before_handle</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Jul 10 13:41:04 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.4).
</div>

    </div>
  </body>
</html>